<div>
  <form [formGroup]="form">
    <div class="header">
      <h2>{{ 'TARIFFS_PAGE.ADD_NEW_TARIFF' | translate }}</h2>
      <button mat-icon-button class="close-button" (click)="close()">
        <mat-icon>close</mat-icon>
      </button>
    </div>
    <input id="from" formControlName="from" [placeholder]="'TARIFFS_PAGE.FROM_LABEL' | translate" />

    <div formArrayName="additionalStops">
      @for (stop of additionalStops.controls; track $index) {
        <div class="additional-stop">
          <input
            type="text"
            [formControlName]="$index"
            placeholder="{{ 'TAXI_ORDER_FORM.ADDITIONAL_STOP_PLACEHOLDER' | translate }} {{
              $index + 1
            }}"
          />
          <button type="button" (click)="removeStop($index)">
            {{ 'TAXI_ORDER_FORM.REMOVE_STOP' | translate }}
          </button>
        </div>
      }
      <button
        class="add-ride-btn"
        type="button"
        (click)="addStop()"
        [disabled]="additionalStops.length >= 3"
      >
        <img src="assets/styles/icons/add.svg" alt="Add" />
        <span>{{ 'TAXI_ORDER_FORM.ADD_STOP' | translate }}</span>
      </button>
    </div>
    <div>
      <input id="to" formControlName="to" [placeholder]="'TARIFFS_PAGE.TO_LABEL' | translate" />
    </div>
    <div>
      <label for="price">{{ 'TARIFFS_PAGE.PRICE_LABEL' | translate }}</label>
      <div class="price-button">
        <button type="button" (click)="decreasePrice()" class="decrease">-</button>
        <input
          type="number"
          id="price"
          formControlName="price"
          [placeholder]="'TARIFFS_PAGE.PRICE_PLACEHOLDER' | translate"
        />
        <button type="button" (click)="increasePrice()" class="increase">+</button>
      </div>
    </div>
    <mt-button
      class="save-button"
      [label]="'TARIFFS_PAGE.SAVE_BUTTON' | translate"
      type="primary"
      size="medium"
      (click)="save()"
    ></mt-button>
  </form>
</div>
